!function(n){var o={};function t(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=n,t.c=o,t.d=function(n,o,e){t.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:e})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,o){if(1&o&&(n=t(n)),8&o)return n;if(4&o&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&o&&"string"!=typeof n)for(var i in n)t.d(e,i,function(o){return n[o]}.bind(null,i));return e},t.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(o,"a",o),o},t.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},t.p="",t(t.s=1)}([function(n,o,t){},function(n,o,t){"use strict";t.r(o);t(0);var e=document.querySelector("#canvas");e.width=1280,e.height=720;for(var i=e.getContext("2d"),r=[],a=0;a<=8;a++){for(var s=[],c=0;c<=15;c++)s.push(Math.random()<=.1);r.push(s)}var u=function(){for(var n=0,o=0;o<=8;o++){for(var t=0,e=0;e<=15;e++)i.beginPath(),i.moveTo(t,n),!0===r[o][e]?(i.fillStyle="#FF0000",i.fillRect(t,n,80,80)):(i.strokeStyle="#000000",i.strokeRect(t,n,80,80)),t+=80;n+=80}},d=function(n){setTimeout((function(){i.drawImage(n.img,n.position.x+B,n.position.y+B,50,50)}),500)},l=function(n){i.drawImage(n.img,n.canvasPosition.x+10,n.canvasPosition.y+10,50,50)},f=document.querySelector(".player1-damage"),p=document.querySelector(".player2-damage"),h=document.querySelector(".player__turn"),P=document.querySelector(".player1-hp"),x=document.querySelector(".player2-hp"),y=function(n){1===n.id?P.textContent="".concat(n.health):2===n.id&&(x.textContent="".concat(n.health))},v=function(n){h.textContent="".concat(n)},m=document.querySelector(".fight__btn"),w=document.createElement("p"),g=document.querySelector(".gameOver");m.addEventListener("click",(function(){console.log(X,Y),1===H?(Y.updateHealth(X.damage),y(Y),R(2),v(2),Y.health<=0&&(m.setAttribute("disabled","true"),w.textContent="Game Ove, Player 1 wins",g.appendChild(w))):2===H&&(X.updateHealth(Y.damage),y(X),R(1),v(1),X.health<=0&&(m.setAttribute("disabled","true"),w.textContent="Game Ove, Player 2 wins",g.appendChild(w)))}));var b=function(n,o,t){m.disabled=!1};function S(n,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}var k=function(){return Math.floor(16*Math.random())+0},M=function(){return Math.floor(9*Math.random())+0},C=function(){function n(o,t){var e=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};!function(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}(this,n),this.id=o,this.img=t,this.damage=i,this.health=a,this.hasWeapon=!1,this.weapon=s,this.position={x:0,y:0},this.indexPosition={row:0,col:0},this.init=function(){var n=M(),o=k();if(r[n][o])return e.init();if(n>0)for(var t=0;t<n;t++)e.position.y+=80;if(o>0)for(var i=0;i<o;i++)e.position.x+=80;e.indexPosition.row=n,e.indexPosition.col=o},this.init()}var o,t,e;return o=n,(t=[{key:"updatePlayerProperties",value:function(n){this.hasWeapon?this.damage=n+100:this.damage+=n,console.log(this.damage)}},{key:"updatePlayerWeapon",value:function(n){this.weapon=n}},{key:"updateWeaponState",value:function(){this.hasWeapon=!0}},{key:"updateHealth",value:function(n){this.health-=n}}])&&S(o.prototype,t),e&&S(o,e),n}();function O(n,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}var q=function(){return Math.floor(16*Math.random())+0},W=function(){return Math.floor(9*Math.random())+0},_=function(){function n(o,t,e){var i=this;!function(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}(this,n),this.img=o,this.damage=t,this.id=e,this.canvasPosition={x:0,y:0},this.indexPosition={row:0,col:0},this.init=function(){var n=W(),o=q();if(r[n][o])return i.init();if(n>0)for(var t=0;t<n;t++)i.canvasPosition.y+=80;if(o>0)for(var e=0;e<o;e++)i.canvasPosition.x+=80;i.indexPosition.row=n,i.indexPosition.col=o},this.init()}var o,t,e;return o=n,(t=[{key:"updateWeaponPosition",value:function(n,o){this.canvasPosition=n,this.indexPosition=o}}])&&O(o.prototype,t),e&&O(o,e),n}();t.d(o,"padding",(function(){return B})),t.d(o,"player1",(function(){return X})),t.d(o,"player2",(function(){return Y})),t.d(o,"playerTurn",(function(){return H})),t.d(o,"setTurn",(function(){return R}));var j=document.querySelector("#player1"),T=document.querySelector("#player2"),E=document.querySelector("#knife"),H=1,I=80,R=function(n){H=n},A=new _(E,20,1),F=new _(E,10,2),G=new _(E,50,3),L=new _(E,40,4),z=[A,F,G,L];setTimeout((function(){l(A),l(F),l(G),l(L)}),500);var B=20,D={canvasPosition:{x:0,y:0},indexPosition:{row:0,col:0}},J={canvasPosition:{x:0,y:0},indexPosition:{row:0,col:0}},K=function(n){console.log(n),1===n.id?(D.canvasPosition=n.position,D.indexPosition=n.indexPosition):2===n.id&&(J.canvasPosition=n.position,J.indexPosition=n.indexPosition)},N=37,Q=38,U=39,V=40;u();var X=new C(1,j),Y=new C(2,T),Z=function(n){i.clearRect(n.position.x+5,n.position.y+5,70,70)},$=function(n){return z.findIndex((function(o){return n.indexPosition.row===o.indexPosition.row&&n.indexPosition.col===o.indexPosition.col}))},nn=function(n,o){var t=z[n];if(o.updatePlayerProperties(t.damage),function(n){1===n.id?f.textContent="".concat(n.damage):2===n.id&&(p.textContent="".concat(n.damage))}(o),o.hasWeapon){o.weapon;o.updatePlayerWeapon(t)}else o.updateWeaponState(),o.updatePlayerWeapon(t)};function on(n,o){return Math.abs(n.position.x-o.position.x)<2*I&&Math.abs(n.position.y-o.position.y)<2*I}d(X),d(Y);var tn=function(n){Z(n),K(n),n.position.x-=80,n.indexPosition.col-=1,console.log(n),on(X,Y)&&b(X,Y,H);var o=$(n);o>-1?(nn(o,n),d(n)):d(n)},en=function(n){Z(n),K(n),n.position.y-=80,n.indexPosition.row-=1,console.log(n),on(X,Y)&&b(X,Y,H);var o=$(n);o>-1?(nn(o,n),d(n)):d(n)},rn=function(n){Z(n),K(n),n.position.x+=80,n.indexPosition.col+=1,console.log(n),on(X,Y)&&b(X,Y,H);var o=$(n);o>-1?(nn(o,n),d(n)):d(n)},an=function(n){Z(n),K(n),n.position.y+=80,n.indexPosition.row+=1,console.log(n),on(X,Y)&&b(X,Y,H);var o=$(n);o>-1?(nn(o,n),d(n)):d(n)};window.addEventListener("keydown",(function(n){switch(n.keyCode){case N:1===H?!r[X.indexPosition.row][X.indexPosition.col-1]&&X.indexPosition.col>0?(v(H=2),tn(X)):H=1:2===H&&(!r[Y.indexPosition.row][Y.indexPosition.col-1]&&Y.indexPosition.col>0?(v(H=1),tn(Y)):H=2);break;case Q:1===H?!r[X.indexPosition.row-1][X.indexPosition.col]&&X.indexPosition.row>0?(v(H=2),en(X)):H=1:2===H&&(!r[Y.indexPosition.row-1][Y.indexPosition.col]&&Y.indexPosition.row>0?(v(H=1),en(Y)):H=2);break;case U:1===H?!r[X.indexPosition.row][X.indexPosition.col+1]&&X.indexPosition.col<r[X.indexPosition.row].length-1?(v(H=2),rn(X)):H=1:2===H&&(!r[Y.indexPosition.row][Y.indexPosition.col+1]&&Y.indexPosition.col<r[Y.indexPosition.row].length-1?(v(H=1),rn(Y)):H=2);break;case V:1===H?!r[X.indexPosition.row+1][X.indexPosition.col]&&X.indexPosition.row<r.length-1?(v(H=2),an(X)):H=1:2===H&&(!r[Y.indexPosition.row+1][Y.indexPosition.col]&&Y.indexPosition.row<r.length-1?(v(H=1),an(Y)):H=2)}}))}]);
//# sourceMappingURL=bundle.js.map