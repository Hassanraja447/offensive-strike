!function(o){var n={};function i(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=o,i.c=n,i.d=function(o,n,t){i.o(o,n)||Object.defineProperty(o,n,{enumerable:!0,get:t})},i.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,n){if(1&n&&(o=i(o)),8&n)return o;if(4&n&&"object"==typeof o&&o&&o.__esModule)return o;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:o}),2&n&&"string"!=typeof o)for(var e in o)i.d(t,e,function(n){return o[n]}.bind(null,e));return t},i.n=function(o){var n=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(n,"a",n),n},i.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)},i.p="",i(i.s=1)}([function(o,n,i){},function(o,n,i){"use strict";i.r(n);i(0);var t=document.querySelector("#canvas");t.width=1280,t.height=720;for(var e=t.getContext("2d"),r=[],a=0;a<=8;a++){for(var s=[],c=0;c<=15;c++)s.push(Math.random()<=.1);r.push(s)}var u=function(){for(var o=0,n=0;n<=8;n++){for(var i=0,t=0;t<=15;t++)e.beginPath(),e.moveTo(i,o),!0===r[n][t]?(e.fillStyle="#FF0000",e.fillRect(i,o,80,80)):(e.strokeStyle="#000000",e.strokeRect(i,o,80,80)),i+=80;o+=80}},d=function(o){setTimeout((function(){e.drawImage(o.img,o.position.x+U,o.position.y+U,50,50)}),500)},l=function(o){e.drawImage(o.img,o.canvasPosition.x+10,o.canvasPosition.y+10,50,50)},f=document.querySelector(".player1-damage"),p=document.querySelector(".player2-damage"),x=document.querySelector(".player__turn"),h=document.querySelector(".player1-hp"),P=document.querySelector(".player2-hp"),v=function(o){1===o.id?h.textContent="".concat(o.health):2===o.id&&(P.textContent="".concat(o.health))},y=function(o){x.textContent="".concat(o)},w=document.querySelector(".fight__btn"),m=document.createElement("p"),g=document.querySelector(".gameOver");w.addEventListener("click",(function(){console.log(Z,$),1===R?($.updateHealth(Z.damage),v($),H(2),y(2),$.health<=0&&(w.setAttribute("disabled","true"),m.textContent="Game Ove, Player 1 wins",g.appendChild(m))):2===R&&(Z.updateHealth($.damage),v(Z),H(1),y(1),Z.health<=0&&(w.setAttribute("disabled","true"),m.textContent="Game Ove, Player 2 wins",g.appendChild(m)))}));var b=function(o,n,i){w.disabled=!1};function k(o,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,t.key,t)}}var S=function(){return Math.floor(16*Math.random())+0},M=function(){return Math.floor(9*Math.random())+0},C=function(){function o(n,i){var t=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};!function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),this.id=n,this.img=i,this.damage=e,this.health=a,this.hasWeapon=!1,this.weapon=s,this.position={x:0,y:0},this.indexPosition={row:0,col:0},this.init=function(){var o=M(),n=S();if(r[o][n])return t.init();if(o>0)for(var i=0;i<o;i++)t.position.y+=80;if(n>0)for(var e=0;e<n;e++)t.position.x+=80;t.indexPosition.row=o,t.indexPosition.col=n},this.init()}var n,i,t;return n=o,(i=[{key:"moveLeft",value:function(){this.position.x-=80,this.indexPosition.col-=1}},{key:"moveUp",value:function(){this.position.y-=80,this.indexPosition.row-=1}},{key:"moveRight",value:function(){this.position.x+=80,this.indexPosition.col+=1}},{key:"moveDown",value:function(){this.position.y+=80,this.indexPosition.row+=1}},{key:"updatePlayerProperties",value:function(o){this.damage=o,console.log(this.damage)}},{key:"updatePlayerWeapon",value:function(o){this.weapon=o}},{key:"updateWeaponState",value:function(){this.hasWeapon=!0}},{key:"updateHealth",value:function(o){this.health-=o}}])&&k(n.prototype,i),t&&k(n,t),o}();function O(o,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,t.key,t)}}var q=function(){return Math.floor(16*Math.random())+0},_=function(){return Math.floor(9*Math.random())+0},j=function(){function o(n,i,t){var e=this;!function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),this.img=n,this.damage=i,this.id=t,this.canvasPosition={x:0,y:0},this.indexPosition={row:0,col:0},this.init=function(){var o=_(),n=q();if(r[o][n])return e.init();if(o>0)for(var i=0;i<o;i++)e.canvasPosition.y+=80;if(n>0)for(var t=0;t<n;t++)e.canvasPosition.x+=80;e.indexPosition.row=o,e.indexPosition.col=n},this.init()}var n,i,t;return n=o,(i=[{key:"updateWeaponPosition",value:function(o,n){this.canvasPosition=o,this.indexPosition=n}}])&&O(n.prototype,i),t&&O(n,t),o}();i.d(n,"padding",(function(){return U})),i.d(n,"player1",(function(){return Z})),i.d(n,"player2",(function(){return $})),i.d(n,"playerTurn",(function(){return R})),i.d(n,"setTurn",(function(){return H}));var T=document.querySelector("#player1"),W=document.querySelector("#player2"),E=document.querySelector("#knife"),R=1,L=80,H=function(o){R=o},I=new j(E,20,1),A=new j(E,10,2),D=new j(E,50,3),F=new j(E,40,4),G=[I,A,D,F];setTimeout((function(){l(I),l(A),l(D),l(F)}),500);var U=20,z={indexPosition:{row:0,col:0}},B={canvasPosition:{x:0,y:0},indexPosition:{row:0,col:0}},J={canvasPosition:{x:0,y:0},indexPosition:{row:0,col:0}},K=function(o,n){1===n.id?o.indexPosition.row===B.indexPosition.row&&o.indexPosition.col===B.indexPosition.col&&l(o):2===n.id&&o.indexPosition.row===J.indexPosition.row&&o.indexPosition.col===J.indexPosition.col&&l(o)},N=function(o){1===o.id?(B.canvasPosition={x:o.position.x,y:o.position.y},B.indexPosition={row:o.indexPosition.row,col:o.indexPosition.col}):2===o.id&&(J.canvasPosition={x:o.position.x,y:o.position.y},J.indexPosition={row:o.indexPosition.row,col:o.indexPosition.col})},Q=37,V=38,X=39,Y=40;u();var Z=new C(1,T),$=new C(2,W),oo=function(o){e.clearRect(o.position.x+5,o.position.y+5,70,70)},no=function(o){return G.findIndex((function(n){return o.indexPosition.row===n.indexPosition.row&&o.indexPosition.col===n.indexPosition.col}))},io=function(o,n){var i=G[o];n.updatePlayerProperties(i.damage),function(o){1===o.id?f.textContent="".concat(o.damage):2===o.id&&(p.textContent="".concat(o.damage))}(n),n.hasWeapon?(function(o,n){o.canvasPosition={x:n.position.x,y:n.position.y},o.indexPosition={row:n.indexPosition.row,col:n.indexPosition.col}}(z=n.weapon,n),G.push(z),G.splice(o,1),n.updatePlayerWeapon(i)):(G.splice(o,1),n.updateWeaponState(),n.updatePlayerWeapon(i))};function to(o,n){return Math.abs(o.position.x-n.position.x)<2*L&&Math.abs(o.position.y-n.position.y)<2*L}d(Z),d($);var eo=function(o){N(o),oo(o),o.moveLeft(),to(Z,$)&&b(Z,$,R);var n=no(o);n>-1?(io(n,o),d(o)):d(o),K(z,o)},ro=function(o){N(o),oo(o),o.moveUp(),to(Z,$)&&b(Z,$,R);var n=no(o);n>-1?(io(n,o),d(o)):d(o),K(z,o)},ao=function(o){N(o),oo(o),o.moveRight(),to(Z,$)&&b(Z,$,R);var n=no(o);n>-1?(io(n,o),d(o)):d(o),K(z,o)},so=function(o){N(o),oo(o),o.moveDown(),to(Z,$)&&b(Z,$,R);var n=no(o);n>-1?(io(n,o),d(o)):d(o),K(z,o)};window.addEventListener("keydown",(function(o){switch(o.keyCode){case Q:1===R?!r[Z.indexPosition.row][Z.indexPosition.col-1]&&Z.indexPosition.col>0?(y(R=2),eo(Z)):R=1:2===R&&(!r[$.indexPosition.row][$.indexPosition.col-1]&&$.indexPosition.col>0?(y(R=1),eo($)):R=2);break;case V:1===R?!r[Z.indexPosition.row-1][Z.indexPosition.col]&&Z.indexPosition.row>0?(y(R=2),ro(Z)):R=1:2===R&&(!r[$.indexPosition.row-1][$.indexPosition.col]&&$.indexPosition.row>0?(y(R=1),ro($)):R=2);break;case X:1===R?!r[Z.indexPosition.row][Z.indexPosition.col+1]&&Z.indexPosition.col<r[Z.indexPosition.row].length-1?(y(R=2),ao(Z)):R=1:2===R&&(!r[$.indexPosition.row][$.indexPosition.col+1]&&$.indexPosition.col<r[$.indexPosition.row].length-1?(y(R=1),ao($)):R=2);break;case Y:1===R?!r[Z.indexPosition.row+1][Z.indexPosition.col]&&Z.indexPosition.row<r.length-1?(y(R=2),so(Z)):R=1:2===R&&(!r[$.indexPosition.row+1][$.indexPosition.col]&&$.indexPosition.row<r.length-1?(y(R=1),so($)):R=2)}}))}]);
//# sourceMappingURL=bundle.js.map