!function(o){var n={};function e(i){if(n[i])return n[i].exports;var t=n[i]={i:i,l:!1,exports:{}};return o[i].call(t.exports,t,t.exports,e),t.l=!0,t.exports}e.m=o,e.c=n,e.d=function(o,n,i){e.o(o,n)||Object.defineProperty(o,n,{enumerable:!0,get:i})},e.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(o,n){if(1&n&&(o=e(o)),8&n)return o;if(4&n&&"object"==typeof o&&o&&o.__esModule)return o;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:o}),2&n&&"string"!=typeof o)for(var t in o)e.d(i,t,function(n){return o[n]}.bind(null,t));return i},e.n=function(o){var n=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(n,"a",n),n},e.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)},e.p="",e(e.s=2)}([function(o,n,e){},function(o,n,e){},function(o,n,e){"use strict";e.r(n);e(0);var i=document.querySelector("#canvas");i.width=1030,i.height=610;for(var t=i.getContext("2d"),r=[],a=0;a<=8;a++){for(var s=[],c=0;c<=15;c++)s.push(Math.random()<=.1);r.push(s)}var u=function(){for(var o=0,n=0;n<=8;n++){for(var e=0,i=0;i<=15;i++)t.beginPath(),t.moveTo(e,o),!0===r[n][i]?(t.fillStyle="#535c68",t.fillRect(e,o,X,X)):(t.strokeStyle="#000000",t.strokeRect(e,o,X,X)),e+=X;o+=X}},d=function(o){setTimeout((function(){t.drawImage(o.img,o.position.x+Y,o.position.y+Y,50,50)}),500)},l=function(o){t.drawImage(o.img,o.canvasPosition.x+10,o.canvasPosition.y+10,50,50)},f=(e(1),document.querySelector(".player1-damage")),p=document.querySelector(".player2-damage"),x=document.querySelector(".player1-weapon"),h=document.querySelector(".player2-weapon"),P=document.querySelector(".player__turn"),y=document.querySelector(".player1-hp"),v=document.querySelector(".player2-hp"),m=function(o){1===o.id?(y.classList.add("animated","bounce"),y.textContent="".concat(o.health),setTimeout((function(){y.classList.remove("animated","bounce")}),1e3)):2===o.id&&(v.classList.add("animated","bounce"),v.textContent="".concat(o.health),setTimeout((function(){v.classList.remove("animated","bounce")}),1e3))},w=function(o){P.textContent="".concat(o)},g=document.querySelector(".fight__btn"),b=document.querySelector(".defend__btn"),S=document.createElement("p"),k=document.querySelector(".gameOver"),M=!1,q=!1;g.addEventListener("click",(function(){1===z?(q?(console.log(so.damage/2),co.updateHealth(so.damage/2),q=!q):co.updateHealth(so.damage),m(co),F(2),w(2),co.health<=0&&(g.setAttribute("disabled","true"),S.textContent="Game Over, Player 1 wins",k.appendChild(S))):2===z&&(M?(so.updateHealth(co.damage/2),M=!M):so.updateHealth(co.damage),m(so),F(1),w(1),so.health<=0&&(g.setAttribute("disabled","true"),S.textContent="Game Over, Player 2 wins",k.appendChild(S)))})),b.addEventListener("click",(function(){1===z?(M=!0,F(2),w(2)):2===z&&(q=!0,F(1),w(1))}));var T=function(o,n,e){g.disabled=!1,b.disabled=!1};function C(o,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}var L=function(){return Math.floor(16*Math.random())+0},O=function(){return Math.floor(9*Math.random())+0},_=function(){function o(n,e){var i=this,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};!function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),this.id=n,this.img=e,this.damage=t,this.health=a,this.hasWeapon=!1,this.weapon=s,this.position={x:0,y:0},this.indexPosition={row:0,col:0},this.init=function(){var o=O(),n=L();if(r[o][n])return i.init();if(o>0)for(var e=0;e<o;e++)i.position.y+=X;if(n>0)for(var t=0;t<n;t++)i.position.x+=X;i.indexPosition.row=o,i.indexPosition.col=n},this.init()}var n,e,i;return n=o,(e=[{key:"moveLeft",value:function(){this.position.x-=X,this.indexPosition.col-=1}},{key:"moveUp",value:function(){this.position.y-=X,this.indexPosition.row-=1}},{key:"moveRight",value:function(){this.position.x+=X,this.indexPosition.col+=1}},{key:"moveDown",value:function(){this.position.y+=X,this.indexPosition.row+=1}},{key:"updatePlayerProperties",value:function(o){this.damage=o}},{key:"updatePlayerWeapon",value:function(o){this.weapon=o}},{key:"updateWeaponState",value:function(){this.hasWeapon=!0}},{key:"updateHealth",value:function(o){console.log(o),this.health-=o}}])&&C(n.prototype,e),i&&C(n,i),o}();function j(o,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}var H=function(){return Math.floor(16*Math.random())+0},W=function(){return Math.floor(9*Math.random())+0},E=function(){function o(n,e,i){var t=this;!function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),this.img=n,this.damage=e,this.id=i,this.canvasPosition={x:0,y:0},this.indexPosition={row:0,col:0},this.init=function(){var o=W(),n=H();if(r[o][n])return t.init();if(o>0)for(var e=0;e<o;e++)t.canvasPosition.y+=64;if(n>0)for(var i=0;i<n;i++)t.canvasPosition.x+=64;t.indexPosition.row=o,t.indexPosition.col=n},this.init()}var n,e,i;return n=o,(e=[{key:"updateWeaponPosition",value:function(o,n){this.canvasPosition=o,this.indexPosition=n}}])&&j(n.prototype,e),i&&j(n,i),o}();e.d(n,"padding",(function(){return Y})),e.d(n,"player1",(function(){return so})),e.d(n,"player2",(function(){return co})),e.d(n,"playerTurn",(function(){return z})),e.d(n,"setTurn",(function(){return F})),e.d(n,"offset",(function(){return X}));var R=document.querySelector("#player1"),I=document.querySelector("#player2"),A=document.querySelector("#knife"),D=document.querySelector("#sowrd"),G=document.querySelector("#akm"),U=document.querySelector("#p13"),z=1,B=64,F=function(o){z=o},J=new E(A,20,1),K=new E(G,15,2),N=new E(D,50,3),Q=new E(U,40,4),V=[J,K,N,Q];setTimeout((function(){l(J),l(K),l(N),l(Q)}),500);var X=64,Y=5,Z={indexPosition:{row:0,col:0}},$={canvasPosition:{x:0,y:0},indexPosition:{row:0,col:0}},oo={canvasPosition:{x:0,y:0},indexPosition:{row:0,col:0}},no=function(o,n){1===n.id?o.indexPosition.row===$.indexPosition.row&&o.indexPosition.col===$.indexPosition.col&&l(o):2===n.id&&o.indexPosition.row===oo.indexPosition.row&&o.indexPosition.col===oo.indexPosition.col&&l(o)},eo=function(o){1===o.id?($.canvasPosition={x:o.position.x,y:o.position.y},$.indexPosition={row:o.indexPosition.row,col:o.indexPosition.col}):2===o.id&&(oo.canvasPosition={x:o.position.x,y:o.position.y},oo.indexPosition={row:o.indexPosition.row,col:o.indexPosition.col})},io=37,to=38,ro=39,ao=40;u();var so=new _(1,R),co=new _(2,I),uo=function(o){t.clearRect(o.position.x+5,o.position.y+5,55,55)},lo=function(o){return V.findIndex((function(n){return o.indexPosition.row===n.indexPosition.row&&o.indexPosition.col===n.indexPosition.col}))},fo=function(o,n){var e=V[o];n.updatePlayerProperties(e.damage),n.hasWeapon?(function(o,n){o.canvasPosition={x:n.position.x,y:n.position.y},o.indexPosition={row:n.indexPosition.row,col:n.indexPosition.col}}(Z=n.weapon,n),V.push(Z),V.splice(o,1),console.log(n,e,Z),n.updatePlayerWeapon(e)):(V.splice(o,1),n.updateWeaponState(),n.updatePlayerWeapon(e)),function(o){1===o.id?(f.textContent="".concat(o.damage),x.innerHTML=o.weapon.img.outerHTML):2===o.id&&(p.textContent="".concat(o.damage),h.innerHTML=o.weapon.img.outerHTML)}(n)};function po(o,n){return Math.abs(o.position.x-n.position.x)<2*B&&Math.abs(o.position.y-n.position.y)<2*B}d(so),d(co);var xo=function(o){eo(o),uo(o),o.moveLeft(),po(so,co)&&T(so,co,z);var n=lo(o);n>-1?(fo(n,o),d(o)):d(o),no(Z,o)},ho=function(o){eo(o),uo(o),o.moveUp(),po(so,co)&&T(so,co,z);var n=lo(o);n>-1?(fo(n,o),d(o)):d(o),no(Z,o)},Po=function(o){eo(o),uo(o),o.moveRight(),po(so,co)&&T(so,co,z);var n=lo(o);n>-1?(fo(n,o),d(o)):d(o),no(Z,o)},yo=function(o){eo(o),uo(o),o.moveDown(),po(so,co)&&T(so,co,z);var n=lo(o);n>-1?(fo(n,o),d(o)):d(o),no(Z,o)};window.addEventListener("keydown",(function(o){switch(o.keyCode){case io:po(so,co)||(1===z?!r[so.indexPosition.row][so.indexPosition.col-1]&&so.indexPosition.col>0?(w(z=2),xo(so)):z=1:2===z&&(!r[co.indexPosition.row][co.indexPosition.col-1]&&co.indexPosition.col>0?(w(z=1),xo(co)):z=2));break;case to:po(so,co)||(1===z?!r[so.indexPosition.row-1][so.indexPosition.col]&&so.indexPosition.row>0?(w(z=2),ho(so)):z=1:2===z&&(!r[co.indexPosition.row-1][co.indexPosition.col]&&co.indexPosition.row>0?(w(z=1),ho(co)):z=2));break;case ro:po(so,co)||(1===z?!r[so.indexPosition.row][so.indexPosition.col+1]&&so.indexPosition.col<r[so.indexPosition.row].length-1?(w(z=2),Po(so)):z=1:2===z&&(!r[co.indexPosition.row][co.indexPosition.col+1]&&co.indexPosition.col<r[co.indexPosition.row].length-1?(w(z=1),Po(co)):z=2));break;case ao:po(so,co)||(1===z?!r[so.indexPosition.row+1][so.indexPosition.col]&&so.indexPosition.row<r.length-1?(w(z=2),yo(so)):z=1:2===z&&(!r[co.indexPosition.row+1][co.indexPosition.col]&&co.indexPosition.row<r.length-1?(w(z=1),yo(co)):z=2))}}))}]);
//# sourceMappingURL=bundle.js.map