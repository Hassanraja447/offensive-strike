!function(o){var i={};function n(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=o,n.c=i,n.d=function(o,i,t){n.o(o,i)||Object.defineProperty(o,i,{enumerable:!0,get:t})},n.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},n.t=function(o,i){if(1&i&&(o=n(o)),8&i)return o;if(4&i&&"object"==typeof o&&o&&o.__esModule)return o;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:o}),2&i&&"string"!=typeof o)for(var e in o)n.d(t,e,function(i){return o[i]}.bind(null,e));return t},n.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(i,"a",i),i},n.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},n.p="",n(n.s=1)}([function(o,i,n){},function(o,i,n){"use strict";n.r(i);n(0);var t=document.querySelector("#canvas");t.width=400,t.height=400;for(var e=t.getContext("2d"),r=[],a=0;a<=9;a++){for(var s=[],c=0;c<=9;c++)s.push(Math.random()<=.1);r.push(s)}var l=function(){for(var o=0,i=0;i<=9;i++){for(var n=0,t=0;t<=9;t++)e.beginPath(),e.moveTo(n,o),!0===r[i][t]?(e.fillStyle="#FF0000",e.fillRect(n,o,40,40)):(e.strokeStyle="#000000",e.strokeRect(n,o,40,40)),n+=40;o+=40}},u=function(o){e.beginPath(),e.moveTo(o.position.x,o.position.y),e.fillStyle=o.color,e.fillRect(o.position.x+10,o.position.y+10,20,20)},f=function(o){e.beginPath(),e.moveTo(o.canvasPosition.x+20,o.canvasPosition.y+10),e.lineTo(o.canvasPosition.x+10,o.canvasPosition.y+30),e.lineTo(o.canvasPosition.x+30,o.canvasPosition.y+30),e.closePath(),e.fillStyle=o.color,e.fill()};function d(o,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,t.key,t)}}var p=function(){return Math.floor(10*Math.random())+0},v=function(){function o(i,n){var t=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}(this,o),this.color=i,this.damage=n,this.hasWeapon=!1,this.weapon=e,this.position={x:0,y:0},this.indexPosition={row:0,col:0},this.init=function(){var o=p(),i=p();if(r[o][i])return t.init();if(o>0)for(var n=0;n<o;n++)t.position.y+=40;if(i>0)for(var e=0;e<i;e++)t.position.x+=40;t.indexPosition.row=o,t.indexPosition.col=i},this.init()}var i,n,t;return i=o,(n=[{key:"updatePlayerProperties",value:function(o,i){this.color=o,this.damage+=i}},{key:"updatePlayerWeapon",value:function(o){this.weapon=o}},{key:"updateWeaponState",value:function(){this.hasWeapon=!0}}])&&d(i.prototype,n),t&&d(i,t),o}();function P(o,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,t.key,t)}}var h=function(){return Math.floor(10*Math.random())+0},x=function(){function o(i,n,t){var e=this;!function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}(this,o),this.color=i,this.damage=n,this.id=t,this.canvasPosition={x:0,y:0},this.indexPosition={row:0,col:0},this.init=function(){var o=h(),i=h();if(r[o][i])return e.init();if(o>0)for(var n=0;n<o;n++)e.canvasPosition.y+=40;if(i>0)for(var t=0;t<i;t++)e.canvasPosition.x+=40;e.indexPosition.row=o,e.indexPosition.col=i},this.init()}var i,n,t;return i=o,(n=[{key:"updateWeaponPosition",value:function(o,i){this.canvasPosition=o,this.indexPosition=i}}])&&P(i.prototype,n),t&&P(i,t),o}(),y=new x("#27ae60",90,1),w=new x("#f39c12",60,2),b=new x("#8e44ad",50,3),g=new x("#c0392b",95,4),m=[y,w,b,g];f(y),f(w),f(b),f(g);var k=37,S=38,j=39,M=40;l();var O=new v("#34495e",100),T=function(){return m.findIndex((function(o){return O.indexPosition.row===o.indexPosition.row&&O.indexPosition.col===o.indexPosition.col}))},R=function(o){var i=m[o];O.updatePlayerProperties(i.color,i.damage)};u(O),window.addEventListener("keydown",(function(o){switch(o.keyCode){case k:if(!r[O.indexPosition.row][O.indexPosition.col-1]&&O.indexPosition.col>0){e.clearRect(O.position.x+10,O.position.y+10,20,20),O.position.x-=40,O.indexPosition.col-=1;var i=T();i>-1?(R(i),u(O)):u(O)}break;case S:if(!r[O.indexPosition.row-1][O.indexPosition.col]&&O.indexPosition.row>0){e.clearRect(O.position.x+10,O.position.y+10,20,20),O.position.y-=40,O.indexPosition.row-=1;var n=T();n>-1?(R(n),u(O)):u(O)}break;case j:if(!r[O.indexPosition.row][O.indexPosition.col+1]&&O.indexPosition.col<r[O.indexPosition.row].length-1){e.clearRect(O.position.x+10,O.position.y+10,20,20),O.position.x+=40,O.indexPosition.col+=1;var t=T();t>-1?(R(t),u(O)):u(O)}break;case M:if(!r[O.indexPosition.row+1][O.indexPosition.col]&&O.indexPosition.row<r.length-1){e.clearRect(O.position.x+10,O.position.y+10,20,20),O.position.y+=40,O.indexPosition.row+=1;var a=T();a>-1?(R(a),u(O)):u(O)}}}))}]);
//# sourceMappingURL=bundle.js.map