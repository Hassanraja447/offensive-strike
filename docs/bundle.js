!function(n){var t={};function e(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=n,e.c=t,e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:o})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)e.d(o,i,function(t){return n[t]}.bind(null,i));return o},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=1)}([function(n,t,e){},function(n,t,e){"use strict";e.r(t);e(0);var o=document.querySelector("#canvas");o.width=1280,o.height=720;for(var i=o.getContext("2d"),r=[],a=0;a<=8;a++){for(var u=[],c=0;c<=15;c++)u.push(Math.random()<=.1);r.push(u)}var s=function(){for(var n=0,t=0;t<=8;t++){for(var e=0,o=0;o<=15;o++)i.beginPath(),i.moveTo(e,n),!0===r[t][o]?(i.fillStyle="#FF0000",i.fillRect(e,n,80,80)):(i.strokeStyle="#000000",i.strokeRect(e,n,80,80)),e+=80;n+=80}},d=function(n){setTimeout((function(){i.drawImage(n.img,n.position.x+B,n.position.y+B,50,50)}),500)},l=function(n){i.drawImage(n.img,n.canvasPosition.x+10,n.canvasPosition.y+10,50,50)},f=document.querySelector(".player1-damage"),p=document.querySelector(".player2-damage"),h=document.querySelector(".player__turn"),y=document.querySelector(".player1-hp"),x=document.querySelector(".player2-hp"),P=function(n){1===n.id?y.textContent="".concat(n.health):2===n.id&&(x.textContent="".concat(n.health))},v=function(n){h.textContent="".concat(n)},m=document.querySelector(".fight__btn"),w=document.createElement("p"),g=document.querySelector(".gameOver");m.addEventListener("click",(function(){console.log(Q,U),1===H?(U.updateHealth(Q.damage),P(U),R(2),v(2),U.health<=0&&(m.setAttribute("disabled","true"),w.textContent="Game Ove, Player 1 wins",g.appendChild(w))):2===H&&(Q.updateHealth(U.damage),P(Q),R(1),v(1),Q.health<=0&&(m.setAttribute("disabled","true"),w.textContent="Game Ove, Player 2 wins",g.appendChild(w)))}));var b=function(n,t,e){m.disabled=!1};function S(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}var k=function(){return Math.floor(16*Math.random())+0},M=function(){return Math.floor(9*Math.random())+0},C=function(){function n(t,e){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.id=t,this.img=e,this.damage=i,this.health=a,this.hasWeapon=!1,this.weapon=u,this.position={x:0,y:0},this.indexPosition={row:0,col:0},this.init=function(){var n=M(),t=k();if(r[n][t])return o.init();if(n>0)for(var e=0;e<n;e++)o.position.y+=80;if(t>0)for(var i=0;i<t;i++)o.position.x+=80;o.indexPosition.row=n,o.indexPosition.col=t},this.init()}var t,e,o;return t=n,(e=[{key:"updatePlayerProperties",value:function(n){this.hasWeapon?this.damage=n+100:this.damage+=n,console.log(this.damage)}},{key:"updatePlayerWeapon",value:function(n){this.weapon=n}},{key:"updateWeaponState",value:function(){this.hasWeapon=!0}},{key:"updateHealth",value:function(n){this.health-=n}}])&&S(t.prototype,e),o&&S(t,o),n}();function O(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}var q=function(){return Math.floor(16*Math.random())+0},W=function(){return Math.floor(9*Math.random())+0},_=function(){function n(t,e,o){var i=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.img=t,this.damage=e,this.id=o,this.canvasPosition={x:0,y:0},this.indexPosition={row:0,col:0},this.init=function(){var n=W(),t=q();if(r[n][t])return i.init();if(n>0)for(var e=0;e<n;e++)i.canvasPosition.y+=80;if(t>0)for(var o=0;o<t;o++)i.canvasPosition.x+=80;i.indexPosition.row=n,i.indexPosition.col=t},this.init()}var t,e,o;return t=n,(e=[{key:"updateWeaponPosition",value:function(n,t){this.canvasPosition=n,this.indexPosition=t}}])&&O(t.prototype,e),o&&O(t,o),n}();e.d(t,"padding",(function(){return B})),e.d(t,"player1",(function(){return Q})),e.d(t,"player2",(function(){return U})),e.d(t,"playerTurn",(function(){return H})),e.d(t,"setTurn",(function(){return R}));var j=document.querySelector("#player1"),T=document.querySelector("#player2"),E=document.querySelector("#knife"),H=1,I=80,R=function(n){H=n},A=new _(E,20,1),F=new _(E,10,2),G=new _(E,50,3),L=new _(E,40,4),z=[A,F,G,L];setTimeout((function(){l(A),l(F),l(G),l(L)}),500);var B=20,D=37,J=38,K=39,N=40;s();var Q=new C(1,j),U=new C(2,T),V=function(n){i.clearRect(n.position.x+5,n.position.y+5,70,70)},X=function(n){return z.findIndex((function(t){return n.indexPosition.row===t.indexPosition.row&&n.indexPosition.col===t.indexPosition.col}))},Y=function(n,t){var e=z[n];if(t.updatePlayerProperties(e.damage),function(n){1===n.id?f.textContent="".concat(n.damage):2===n.id&&(p.textContent="".concat(n.damage))}(t),t.hasWeapon){t.weapon;t.updatePlayerWeapon(e)}else t.updateWeaponState(),t.updatePlayerWeapon(e)};function Z(n,t){return Math.abs(n.position.x-t.position.x)<2*I&&Math.abs(n.position.y-t.position.y)<2*I}d(Q),d(U);var $=function(n){V(n),n.position.x-=80,n.indexPosition.col-=1,Z(Q,U)&&b(Q,U,H);var t=X(n);t>-1?(Y(t,n),d(n)):d(n)},nn=function(n){V(n),n.position.y-=80,n.indexPosition.row-=1,Z(Q,U)&&b(Q,U,H);var t=X(n);t>-1?(Y(t,n),d(n)):d(n)},tn=function(n){V(n),n.position.x+=80,n.indexPosition.col+=1,Z(Q,U)&&b(Q,U,H);var t=X(n);t>-1?(Y(t,n),d(n)):d(n)},en=function(n){V(n),n.position.y+=80,n.indexPosition.row+=1,Z(Q,U)&&b(Q,U,H);var t=X(n);t>-1?(Y(t,n),d(n)):d(n)};window.addEventListener("keydown",(function(n){switch(n.keyCode){case D:1===H?!r[Q.indexPosition.row][Q.indexPosition.col-1]&&Q.indexPosition.col>0?(v(H=2),$(Q)):H=1:2===H&&(!r[U.indexPosition.row][U.indexPosition.col-1]&&U.indexPosition.col>0?(v(H=1),$(U)):H=2);break;case J:1===H?!r[Q.indexPosition.row-1][Q.indexPosition.col]&&Q.indexPosition.row>0?(v(H=2),nn(Q)):H=1:2===H&&(!r[U.indexPosition.row-1][U.indexPosition.col]&&U.indexPosition.row>0?(v(H=1),nn(U)):H=2);break;case K:1===H?!r[Q.indexPosition.row][Q.indexPosition.col+1]&&Q.indexPosition.col<r[Q.indexPosition.row].length-1?(v(H=2),tn(Q)):H=1:2===H&&(!r[U.indexPosition.row][U.indexPosition.col+1]&&U.indexPosition.col<r[U.indexPosition.row].length-1?(v(H=1),tn(U)):H=2);break;case N:1===H?!r[Q.indexPosition.row+1][Q.indexPosition.col]&&Q.indexPosition.row<r.length-1?(v(H=2),en(Q)):H=1:2===H&&(!r[U.indexPosition.row+1][U.indexPosition.col]&&U.indexPosition.row<r.length-1?(v(H=1),en(U)):H=2)}}))}]);
//# sourceMappingURL=bundle.js.map