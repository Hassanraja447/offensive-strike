!function(o){var n={};function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=o,i.c=n,i.d=function(o,n,e){i.o(o,n)||Object.defineProperty(o,n,{enumerable:!0,get:e})},i.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,n){if(1&n&&(o=i(o)),8&n)return o;if(4&n&&"object"==typeof o&&o&&o.__esModule)return o;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:o}),2&n&&"string"!=typeof o)for(var t in o)i.d(e,t,function(n){return o[n]}.bind(null,t));return e},i.n=function(o){var n=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(n,"a",n),n},i.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)},i.p="",i(i.s=1)}([function(o,n,i){},function(o,n,i){"use strict";i.r(n);i(0);var e=document.querySelector("#canvas");e.width=1030,e.height=610;for(var t=e.getContext("2d"),r=[],a=0;a<=8;a++){for(var s=[],c=0;c<=15;c++)s.push(Math.random()<=.1);r.push(s)}var u=function(){for(var o=0,n=0;n<=8;n++){for(var i=0,e=0;e<=15;e++)t.beginPath(),t.moveTo(i,o),!0===r[n][e]?(t.fillStyle="#FF0000",t.fillRect(i,o,N,N)):(t.strokeStyle="#000000",t.strokeRect(i,o,N,N)),i+=N;o+=N}},d=function(o){setTimeout((function(){t.drawImage(o.img,o.position.x+Q,o.position.y+Q,50,50)}),500)},l=function(o){console.log("running",o),t.drawImage(o.img,o.canvasPosition.x+10,o.canvasPosition.y+10,50,50)},f=document.querySelector(".player1-damage"),p=document.querySelector(".player2-damage"),x=document.querySelector(".player1-weapon"),h=document.querySelector(".player2-weapon"),P=document.querySelector(".player__turn"),y=document.querySelector(".player1-hp"),v=document.querySelector(".player2-hp"),w=function(o){1===o.id?y.textContent="".concat(o.health):2===o.id&&(v.textContent="".concat(o.health))},m=function(o){P.textContent="".concat(o)},g=document.querySelector(".fight__btn"),b=document.createElement("p"),S=document.querySelector(".gameOver");g.addEventListener("click",(function(){console.log(to,ro),1===D?(ro.updateHealth(to.damage),w(ro),G(2),m(2),ro.health<=0&&(g.setAttribute("disabled","true"),b.textContent="Game Over, Player 1 wins",S.appendChild(b))):2===D&&(to.updateHealth(ro.damage),w(to),G(1),m(1),to.health<=0&&(g.setAttribute("disabled","true"),b.textContent="Game Over, Player 2 wins",S.appendChild(b)))}));var k=function(o,n,i){g.disabled=!1};function M(o,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}var q=function(){return Math.floor(16*Math.random())+0},C=function(){return Math.floor(9*Math.random())+0},T=function(){function o(n,i){var e=this,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};!function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),this.id=n,this.img=i,this.damage=t,this.health=a,this.hasWeapon=!1,this.weapon=s,this.position={x:0,y:0},this.indexPosition={row:0,col:0},this.init=function(){var o=C(),n=q();if(r[o][n])return e.init();if(o>0)for(var i=0;i<o;i++)e.position.y+=N;if(n>0)for(var t=0;t<n;t++)e.position.x+=N;e.indexPosition.row=o,e.indexPosition.col=n},this.init()}var n,i,e;return n=o,(i=[{key:"moveLeft",value:function(){this.position.x-=N,this.indexPosition.col-=1}},{key:"moveUp",value:function(){this.position.y-=N,this.indexPosition.row-=1}},{key:"moveRight",value:function(){this.position.x+=N,this.indexPosition.col+=1}},{key:"moveDown",value:function(){this.position.y+=N,this.indexPosition.row+=1}},{key:"updatePlayerProperties",value:function(o){this.damage=o,console.log(this.damage)}},{key:"updatePlayerWeapon",value:function(o){this.weapon=o}},{key:"updateWeaponState",value:function(){this.hasWeapon=!0}},{key:"updateHealth",value:function(o){this.health-=o}}])&&M(n.prototype,i),e&&M(n,e),o}();function O(o,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}var _=function(){return Math.floor(16*Math.random())+0},j=function(){return Math.floor(9*Math.random())+0},W=function(){function o(n,i,e){var t=this;!function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),this.img=n,this.damage=i,this.id=e,this.canvasPosition={x:0,y:0},this.indexPosition={row:0,col:0},this.init=function(){var o=j(),n=_();if(r[o][n])return t.init();if(o>0)for(var i=0;i<o;i++)t.canvasPosition.y+=64;if(n>0)for(var e=0;e<n;e++)t.canvasPosition.x+=64;t.indexPosition.row=o,t.indexPosition.col=n},this.init()}var n,i,e;return n=o,(i=[{key:"updateWeaponPosition",value:function(o,n){this.canvasPosition=o,this.indexPosition=n}}])&&O(n.prototype,i),e&&O(n,e),o}();i.d(n,"padding",(function(){return Q})),i.d(n,"player1",(function(){return to})),i.d(n,"player2",(function(){return ro})),i.d(n,"playerTurn",(function(){return D})),i.d(n,"setTurn",(function(){return G})),i.d(n,"offset",(function(){return N}));var L=document.querySelector("#player1"),H=document.querySelector("#player2"),E=document.querySelector("#knife"),R=document.querySelector("#sowrd"),I=document.querySelector("#akm"),A=document.querySelector("#p13"),D=1,F=64,G=function(o){D=o},U=new W(E,20,1),z=new W(I,15,2),B=new W(R,50,3),J=new W(A,40,4),K=[U,z,B,J];setTimeout((function(){l(U),l(z),l(B),l(J)}),500);var N=64,Q=5,V={indexPosition:{row:0,col:0}},X={canvasPosition:{x:0,y:0},indexPosition:{row:0,col:0}},Y={canvasPosition:{x:0,y:0},indexPosition:{row:0,col:0}},Z=function(o,n){1===n.id?o.indexPosition.row===X.indexPosition.row&&o.indexPosition.col===X.indexPosition.col&&l(o):2===n.id&&o.indexPosition.row===Y.indexPosition.row&&o.indexPosition.col===Y.indexPosition.col&&l(o)},$=function(o){1===o.id?(X.canvasPosition={x:o.position.x,y:o.position.y},X.indexPosition={row:o.indexPosition.row,col:o.indexPosition.col}):2===o.id&&(Y.canvasPosition={x:o.position.x,y:o.position.y},Y.indexPosition={row:o.indexPosition.row,col:o.indexPosition.col})},oo=37,no=38,io=39,eo=40;u();var to=new T(1,L),ro=new T(2,H),ao=function(o){t.clearRect(o.position.x+5,o.position.y+5,55,55)},so=function(o){return K.findIndex((function(n){return o.indexPosition.row===n.indexPosition.row&&o.indexPosition.col===n.indexPosition.col}))},co=function(o,n){var i=K[o];n.updatePlayerProperties(i.damage),n.hasWeapon?(function(o,n){o.canvasPosition={x:n.position.x,y:n.position.y},o.indexPosition={row:n.indexPosition.row,col:n.indexPosition.col}}(V=n.weapon,n),K.push(V),K.splice(o,1),console.log(n,i,V),n.updatePlayerWeapon(i)):(K.splice(o,1),n.updateWeaponState(),n.updatePlayerWeapon(i)),function(o){console.log(o.weapon),1===o.id?(f.textContent="".concat(o.damage),x.innerHTML=o.weapon.img.outerHTML):2===o.id&&(p.textContent="".concat(o.damage),h.innerHTML=o.weapon.img.outerHTML)}(n)};function uo(o,n){return Math.abs(o.position.x-n.position.x)<2*F&&Math.abs(o.position.y-n.position.y)<2*F}d(to),d(ro);var lo=function(o){$(o),ao(o),o.moveLeft(),uo(to,ro)&&k(to,ro,D);var n=so(o);n>-1?(co(n,o),d(o)):d(o),Z(V,o)},fo=function(o){$(o),ao(o),o.moveUp(),uo(to,ro)&&k(to,ro,D);var n=so(o);n>-1?(co(n,o),d(o)):d(o),Z(V,o)},po=function(o){$(o),ao(o),o.moveRight(),uo(to,ro)&&k(to,ro,D);var n=so(o);n>-1?(co(n,o),d(o)):d(o),Z(V,o)},xo=function(o){$(o),ao(o),o.moveDown(),uo(to,ro)&&k(to,ro,D);var n=so(o);n>-1?(co(n,o),d(o)):d(o),Z(V,o)};window.addEventListener("keydown",(function(o){switch(o.keyCode){case oo:uo(to,ro)||(1===D?!r[to.indexPosition.row][to.indexPosition.col-1]&&to.indexPosition.col>0?(m(D=2),lo(to)):D=1:2===D&&(!r[ro.indexPosition.row][ro.indexPosition.col-1]&&ro.indexPosition.col>0?(m(D=1),lo(ro)):D=2));break;case no:uo(to,ro)||(1===D?!r[to.indexPosition.row-1][to.indexPosition.col]&&to.indexPosition.row>0?(m(D=2),fo(to)):D=1:2===D&&(!r[ro.indexPosition.row-1][ro.indexPosition.col]&&ro.indexPosition.row>0?(m(D=1),fo(ro)):D=2));break;case io:uo(to,ro)||(1===D?!r[to.indexPosition.row][to.indexPosition.col+1]&&to.indexPosition.col<r[to.indexPosition.row].length-1?(m(D=2),po(to)):D=1:2===D&&(!r[ro.indexPosition.row][ro.indexPosition.col+1]&&ro.indexPosition.col<r[ro.indexPosition.row].length-1?(m(D=1),po(ro)):D=2));break;case eo:uo(to,ro)||(1===D?!r[to.indexPosition.row+1][to.indexPosition.col]&&to.indexPosition.row<r.length-1?(m(D=2),xo(to)):D=1:2===D&&(!r[ro.indexPosition.row+1][ro.indexPosition.col]&&ro.indexPosition.row<r.length-1?(m(D=1),xo(ro)):D=2))}}))}]);
//# sourceMappingURL=bundle.js.map